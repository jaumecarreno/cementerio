<!-- Punto de entrada al modulo de tasas -->
{% extends "base.html" %}
{% set active_cem = 'tasas' %}
{% block title %}{{ t('fees.search_title') }}{% endblock %}
{% block content %}
<h1 class="page-title">{{ t('fees.search_title') }}</h1>

<div class="box search-shell">
  <h3>{{ t('search.criteria') }}</h3>
  <form
    class="search-form"
    method="post"
    action="{{ url_for('cemetery.fees_search') }}"
    hx-post="{{ url_for('cemetery.fees_search') }}"
    hx-target="#fees-search-results"
    hx-swap="innerHTML"
  >
    <div class="form-grid search-fields">
      <div>
        <label>{{ t('field.block') }}</label>
        <select name="bloque">
          <option value="">{{ t('search.all') }}</option>
          {% for block in blocks %}
          <option value="{{ block }}" {% if filters.bloque == block %}selected{% endif %}>{{ block }}</option>
          {% endfor %}
        </select>
      </div>
      <div>
        <label>{{ t('field.number') }}</label>
        <input type="number" name="numero" value="{{ filters.numero }}">
      </div>
      <div>
        <label>{{ t('field.row') }}</label>
        <input type="number" name="fila" value="{{ filters.fila }}">
      </div>
      <div>
        <label>{{ t('field.column') }}</label>
        <input type="number" name="columna" value="{{ filters.columna }}">
      </div>
      <div>
        <label>{{ t('field.holder') }}</label>
        <input type="text" name="titular" value="{{ filters.titular }}">
      </div>
      <div>
        <label>{{ t('field.deceased') }}</label>
        <input type="text" name="difunto" value="{{ filters.difunto }}">
      </div>
    </div>
    <div class="actions-row search-actions">
      <a class="btn" href="{{ url_for('cemetery.fees_search') }}">{{ t('common.clear') }}</a>
      <button type="submit" class="primary">{{ t('common.search') }}</button>
    </div>
  </form>
</div>

<div id="fees-search-results" class="search-results-wrap">
  {% include "cemetery/_fees_search_results.html" %}
</div>
{% endblock %}
