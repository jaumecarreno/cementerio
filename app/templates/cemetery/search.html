<!-- Spec 5.3.4 + 9.4.x - Buscador de sepulturas -->
{% extends "base.html" %}
{% set active_cem = 'sepulturas' %}
{% block title %}{{ t('search.title') }}{% endblock %}
{% block content %}
<h1 class="page-title">{{ t('search.title') }}</h1>

<div class="box">
  <h3>{{ t('search.criteria') }}</h3>
  <form
    method="post"
    action="{{ url_for('cemetery.search_graves') }}"
    hx-post="{{ url_for('cemetery.search_graves') }}"
    hx-target="#search-results"
    hx-swap="innerHTML"
  >
    <div class="form-grid">
      <div>
        <label>{{ t('field.block') }}</label>
        <select name="bloque">
          <option value="">{{ t('search.all') }}</option>
          {% for block in blocks %}
          <option value="{{ block }}" {% if filters.bloque == block %}selected{% endif %}>{{ block }}</option>
          {% endfor %}
        </select>
      </div>
      <div>
        <label>{{ t('field.number') }}</label>
        <input type="number" name="numero" value="{{ filters.numero }}">
      </div>
      <div>
        <label>{{ t('field.row') }}</label>
        <input type="number" name="fila" value="{{ filters.fila }}">
      </div>
      <div>
        <label>{{ t('field.column') }}</label>
        <input type="number" name="columna" value="{{ filters.columna }}">
      </div>
      <div>
        <label>{{ t('field.holder') }}</label>
        <input type="text" name="titular" value="{{ filters.titular }}">
      </div>
      <div>
        <label>{{ t('field.deceased') }}</label>
        <input type="text" name="difunto" value="{{ filters.difunto }}">
      </div>
    </div>
    <div class="actions-row">
      <a class="btn" href="{{ url_for('cemetery.search_graves') }}">{{ t('common.clear') }}</a>
      <button type="submit" class="primary">{{ t('common.search') }}</button>
    </div>
  </form>
</div>

<div id="search-results">
  {% include "cemetery/_search_results.html" %}
</div>
{% endblock %}
